<html>
<head>
<title>Tarea 1</title>
  <link rel="icon" type="image/x-icon" href="https://seeklogo.com/images/U/universidad-andina-simon-bolivar-logo-DE4494615C-seeklogo.com.png">
<style>

body{
	
	Background-color:lightyellow;
}
h1{
	color: ORANGE;
	text-align: center;	
}

p{
	font-family: verdana;
	font-size: 20px;
	}
#boton{
	color:red
	}
</style>




</head>

<body>

<script>
function visualizarinfoIGM(){

var capa = prompt("Si desea visualizar una capa, intruduzca alguna de las opciones, ejemplos: Esparza:Chimborazo_poligonos, Esparza:Chimborazo_rios", "Esparza:Chimborazo_rios" )
var ancho = prompt("Indique el valor de ancho de la imagen", "800")
var alto= prompt("Indique el valor de alto de la imagen", "800")


/*var enlace = "http://www.geoportaligm.gob.ec/nacional/wms?Request=getmap&service=wms&width="+ancho+"&height="+alto+"&FORMAT=image/png&VERSION=1.3.0&LAYERS="+capa+"&CRS=EPSG:4326&BBOX=-5.016662470417044,-81.05051988836648,1.7132861182945065,-75.1789872920763"*/

var enlace = "http://geoserver.idesinde.com:8443/geoserver/wms?Request=getmap&service=wms&width="+ancho+"&height="+alto+"&FORMAT=image/png&VERSION=1.3.0&LAYERS="+capa+"&CRS=EPSG:4326&BBOX=-2.4018859499110334,-79.13705208127884,-1.4344024271506157,-78.35972108486295"



document.getElementById("visual").href= enlace
document.getElementById("visual").src= enlace
document.getElementById("lk").href= enlace
document.getElementById("lk").style= "visibility"
}


function desplegablenacional() {
var caparegional = document.getElementById("desplegablenacional").value
var formato = document.getElementById("formatos").value
var enlacereg = "https://geoserver.idesinde.com:8443/geoserver/wfs?request=GetFeature&service=wfs&typename="+caparegional+"&outputformat="+formato
document.getElementById("descargareg").href= enlacereg

/* https://geoserver.idesinde.com:8443/geoserver/wfs?service=wfs&request=GetFeature&typename=Esparza:Chimborazo_rios&outputformat=kml  */

}

</script>

<header>
        <h1>ARQUITECTURAS WEB</h1>
        <center><h2>Tarea 1</h2></center>
		<center><h3>José Fernando Esparza Parra</h3></center>
    </header>
<br><br>
<h3> 1. Pulsando un botón, visualizar un mapa con las 3 capas que subió y simbolizó en geoserver.</h3>
<center><button type="button" onclick ="visualizarinfoIGM()" style="width:400;height:50; text-size:100px">Visualizar información 1:1.000.000</button></center>
<br>

<img id="visual" src="">
<center><a id="lk" href="" style="visibility: hidden;" target="_blank"> Link de visualizacion por que no se ve por certificado de seguridad</a></center>

<br>

<h3> 2. Dos desplegables, uno que marque cada una de las capas subidas y otro el formato (GML, KML o SHP), y un botón que permita descargar la capa seleccionada en cualquiera de los 3 formatos.</h3>

<center>
<select id="desplegablenacional" onchange="desplegablenacional()" >
<option value="Esparza:Chimborazo_poligonos">Contorno Chimborazo
<option value="Esparza:Chimborazo_rios">Rios Chimborazo
<option value="Esparza:Chimborazo_poblados">Poblados Chimborazo
</select>
<select id="formatos" onchange="desplegablenacional()" >
<option value="shape-zip">Shapefile
<option value="GML2">GML
<option value="KML">KML

</select>

<a id="descargareg" href="" class="download-icon">📥 Descargar</a></center>
<br>


</body>
</html>